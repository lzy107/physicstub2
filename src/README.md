# 源代码目录结构

本目录包含物理设备模拟器框架的源代码，按功能分为以下几个子目录：

## 核心模块 (core)

核心模块包含系统的基础组件和入口点：

- `main.c`: 主程序入口，负责初始化各个组件并启动系统

## 设备模块 (device)

设备模块包含设备类型和实例的管理：

- `device_types.c`: 设备类型定义和管理
- `device_configs.c`: 设备配置管理
- `device_memory.c`: 设备内存管理
- `device_registry.c`: 设备注册表，管理设备实例

## 监控模块 (monitor)

监控模块包含事件监控和动作触发系统：

- `global_monitor.c`: 全局监视器，监控设备地址变化
- `action_manager.c`: 动作管理器，处理规则触发和执行
- `device_rules.c`: 设备规则定义
- `device_rule_configs.c`: 设备规则配置

## 测试模块 (test)

测试模块包含自动化测试框架：

- `device_test.c`: 设备测试框架，支持测试用例定义和执行

## 文件组织原则

1. **功能分组**: 文件按照功能相关性分组，便于理解和维护
2. **模块独立**: 每个模块相对独立，通过明确的接口与其他模块交互
3. **层次结构**: 遵循从底层到高层的依赖关系，避免循环依赖

## 编译说明

所有源文件都通过Makefile进行编译，已更新Makefile以适应新的目录结构。编译时只需执行：

```bash
make clean && make all
``` 